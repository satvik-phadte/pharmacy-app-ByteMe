{% extends 'authentication/base.html' %}

{% block title %}My Reminders - Pharmacy App{% endblock %}

{% block container_class %}homepage-container{% endblock %}

{% block content %}
<div class="welcome-card">
    <h1>My Reminders</h1>
    <p>Create reminders to take your medicines on time.</p>

    <div class="status-card">
        <h4>➕ Add Reminder</h4>
        <form method="post" style="text-align:left; margin-top:1rem;">
            {% csrf_token %}
            <div class="form-group">
                <label for="id_medicine_name">Medicine Name</label>
                {{ form.medicine_name }}
            </div>
            <div class="form-group">
                <label for="id_times">Times (comma-separated, 24h)</label>
                {{ form.times }}
                <small class="text-muted">Example: 08:00, 14:00, 20:00</small>
            </div>
            <div class="form-group">
                <label for="id_notes">Notes (optional)</label>
                {{ form.notes }}
            </div>
            <div class="checkbox-group">
                <label>{{ form.active }} Active</label>
            </div>
            <button type="submit" class="btn">Add Reminder</button>
        </form>
    </div>

    <div class="status-card">
        <h4> Your Reminders</h4>
        {% if reminders %}
            <div class="results-grid">
                {% for r in reminders %}
                <div class="result-card">
                    <div class="pharmacy-info">
                        <h4>{{ r.medicine_name }}</h4>
                        <p><strong>Times:</strong> {{ r.times }}</p>
                        {% if r.notes %}<p><strong>Notes:</strong> {{ r.notes }}</p>{% endif %}
                        <p><strong>Status:</strong> {{ r.active|yesno:"Active,Inactive" }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-icon">⏰</div>
                <h3>No reminders yet</h3>
                <p>Use the form above to add your first medicine reminder.</p>
            </div>
        {% endif %}
    </div>

    <div class="btn-group">
        <a href="{% url 'authentication:homepage' %}" class="btn btn-secondary">Back to Homepage</a>
    </div>
</div>
{% endblock %}
